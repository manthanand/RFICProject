; Top Design: "ECE382M:mixer:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="ECE382M:mixer:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=yes DcopOutputDcopType=2
#ifndef inc_ECE382M_3amixer_3aschematic__130nm__bulk_2enet
#define inc_ECE382M_3amixer_3aschematic__130nm__bulk_2enet 1
#include "C:\Users\manth\Github\RFICProject\ECE382M_wrk\130nm_bulk.net"
#endif
V_Source:SRC4  Vdd 0 Type="V_DC" Vdc=1.2 V Vac=0 SaveCurrent=1 
R:R2  Vout2 Vdd R=load Ohm Noise=yes 
R:R1  Vout1 Vdd R=load Ohm Noise=yes 
"nmos":MOSFET2  Vout1 N__1 vin1 0 Length=130 nm Width=width um Mode=1 Noise=yes 
"nmos":MOSFET4  Vout2 N__10 vin1 0 Length=130 nm Width=width um Mode=1 Noise=yes 
"nmos":MOSFET1  Vout1 N__12 vin2 0 Length=130 nm Width=width um Mode=1 Noise=yes 
"nmos":MOSFET3  Vout2 N__1 vin2 0 Length=130 nm Width=width um Mode=1 Noise=yes 
HB:HB3 MaxOrder=5 Freq[1]=LOfreq GHz Freq[2]=RFfreq GHz Order[1]=3 Order[2]=3 StatusLevel=2 FundOversample=1 \
Restart=no OutputBudgetIV=no HBSS_WSP=0 SweepVar="RFfreq" SweepPlan="HB3_stim" OutputPlan="HB3_Output" UseKrylov=yes 

SweepPlan: HB3_stim Start=1 Stop=10 Step=1 

OutputPlan:HB3_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      SavedEquationName[1]="IFfreq" \
      SavedEquationName[2]="LOfreq" \
      SavedEquationName[3]="Rload" \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

Tran:HB3_tran HB_Sol=1 SteadyState=1 StatusLevel=3 \
Freq[1]=LOfreq GHz Order[1]=3 

Component:tahb_HB3 Module="ATAHB" Type="ModelExtractor" \ 
 Tran_Analysis="HB3_tran" HB_Analysis="HB3" 

C:C1  N__8 N__12 C=1.0 nF 
C:C2  LOn N__1 C=1.0 nF 
C:C3  LOp N__10 C=1.0 nF 
#uselib "ckt" , "tf"
tf:TF1  vin vin2 0 vin1 T=turns 
Port:PORT1  N__7 0 Num=1 Z=50 P[1]=dbmtow(RFpower) Freq[1]=RFfreq GHz    Noise=yes 

RFfreq=5
IFfreq=0.05
df=0.01
LOfreq=RFfreq-IFfreq
RFpower=-50
aele CG_linear=mag(mix(HB.Vout,{-1,1})/mix(HB.vin,{0,1}));CG_linear_p=mag(mix(HB.Vout2,{-1,1})/mix(HB.vin,{0,1}));CG_linear_n=mag(mix(HB.Vout1,{-1,1})/mix(HB.vin,{0,1}));CG_dB=20*log(CG_linear);CG_dB_p=20*log(CG_linear_p);CG_dB_n=20*log(CG_linear_n);
#uselib "ckt" , "Balun3Port"
Balun3Port:CMP1  Vout Vout1 Vout2 
Port:Term2  Vout 0 Num=2 Z=100 kOhm Noise=yes 
Short:DC_Block2  N__7 vin Mode=1 

width=26.074 tune{ 0.1 to 100 by 1 }
turns=3.07e-06 tune{ 1e-06 to 1e-05 by 1e-06 }
load=9338 tune{ 100 to 10000 by 100 }
Short:Term1  N__2 0 Mode=0 SaveCurrent=no
V_Source:SRC8  N__8 0 Type="V_1Tone" V[1]=polar(1.2,0) V Freq[1]=LOfreq GHz    Vac=polar(1,0) V SaveCurrent=1 
V_Source:SRC9  LOn 0 Type="V_1Tone" V[1]=polar(1.2,180) V Freq[1]=LOfreq GHz    Vac=polar(1,0) V SaveCurrent=1 
V_Source:SRC10  LOp 0 Type="V_1Tone" V[1]=polar(1.2,0) V Freq[1]=LOfreq GHz    Vac=polar(1,0) V SaveCurrent=1 
